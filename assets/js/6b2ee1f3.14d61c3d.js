"use strict";(self.webpackChunknfdi_sections=self.webpackChunknfdi_sections||[]).push([[5227],{2463:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>j,contentTitle:()=>g,default:()=>w,frontMatter:()=>x,metadata:()=>r,toc:()=>v});const r=JSON.parse('{"id":"calendar","title":"Calendar","description":"Browse upcoming meetings and events. The calendar updates from a JSON file at build/runtime.","source":"@site/docs/calendar.mdx","sourceDirName":".","slug":"/calendar","permalink":"/nfdi-sections/docs/calendar","draft":false,"unlisted":false,"editUrl":"https://github.com/okoepler/nfdi-sections/edit/main/docs/calendar.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Calendar","sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"NFDI Sections","permalink":"/nfdi-sections/docs/category/nfdi-sections"}}');var s=n(4848),a=n(8453),o=n(6540),l=n(6025),i=n(2512),c=n(4492),d=n(8248),p=n(2528),u=n(8723);const m={"en-US":n(3249).c},h=(0,i.Hz)({format:c.GP,parse:d.qg,startOfWeek:p.k,getDay:u.P,locales:m});function f({events:e,enabledTypes:t,onToggleType:n,onShowAll:r}){const a=(0,o.useMemo)(()=>{const t=new Map;for(const n of e){const e=n.type||"Event";t.has(e)||t.set(e,{label:e,color:n.color||"var(--ifm-color-primary)"})}return Array.from(t.values())},[e]);return a.length?(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem",alignItems:"center"},children:[(0,s.jsx)("strong",{style:{marginRight:"0.25rem"},children:"Filter:"}),a.map(e=>{const r=t.has(e.label);return(0,s.jsxs)("button",{type:"button",onClick:()=>n(e.label),title:r?"Click to hide this type":"Click to show this type",style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",fontSize:"0.9rem",padding:"0.25rem 0.5rem",cursor:"pointer",borderRadius:"4px",border:"1px solid var(--ifm-color-emphasis-300)",background:r?"var(--ifm-background-surface-color)":"var(--ifm-background-color)",opacity:r?1:.5},children:[(0,s.jsx)("span",{style:{width:12,height:12,background:e.color,border:"1px solid var(--ifm-color-emphasis-300)"}}),(0,s.jsx)("span",{children:e.label})]},e.label)}),(0,s.jsx)("button",{type:"button",onClick:r,style:{marginLeft:"0.25rem"},className:"button button--sm button--secondary",children:"Show all"})]}):null}function y(){const{events:e,loading:t,error:n}=function(){const e=(0,l.Ay)("/calendar.json"),[t,n]=(0,o.useState)([]),[r,s]=(0,o.useState)(!0),[a,i]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let t=!1;return async function(){try{s(!0);const r=await fetch(e,{cache:"no-cache"});if(!r.ok)throw new Error(`Failed to load calendar: ${r.status}`);const a=await r.json();if(t)return;const o=(a||[]).map(e=>({title:e.title,start:new Date(e.start),end:new Date(e.end),allDay:!!e.allDay,url:e.url,location:e.location,description:e.description,type:e.type,color:e.color}));n(o)}catch(r){t||i(r)}finally{t||s(!1)}}(),()=>{t=!0}},[e]),{events:t,loading:r,error:a}}(),[r,a]=(0,o.useState)(new Set),[c,d]=(0,o.useState)(null);(0,o.useEffect)(()=>{const t=new Set((e||[]).map(e=>e.type||"Event"));a(t)},[e]);const p=(0,o.useCallback)(e=>({style:{backgroundColor:e.color||"var(--ifm-color-primary)",borderRadius:"4px",border:"1px solid var(--ifm-color-emphasis-300)",color:"#ffffff",opacity:.95}}),[]),u=(0,o.useCallback)(e=>{d(e)},[]),m=(0,o.useMemo)(()=>e.filter(e=>r.has(e.type||"Event")),[e,r]),y=(0,o.useCallback)(e=>{const t=[];return e.description&&t.push(e.description),e.location&&t.push(e.location),t.join(" \u2022 ")},[]),x=(0,o.useCallback)(e=>{a(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),g=(0,o.useCallback)(()=>{const t=new Set((e||[]).map(e=>e.type||"Event"));a(t)},[e]);return n?(0,s.jsx)("div",{className:"alert alert--danger",children:String(n)}):(0,s.jsxs)("div",{children:[t&&(0,s.jsx)("div",{className:"alert alert--info",children:"Loading calendar\u2026"}),(0,s.jsx)(f,{events:e,enabledTypes:r,onToggleType:x,onShowAll:g}),(0,s.jsx)("div",{className:"calendarWrapper",children:(0,s.jsx)(i.Vv,{localizer:h,events:m,startAccessor:"start",endAccessor:"end",views:[i.Pp.MONTH,i.Pp.WEEK,i.Pp.DAY,i.Pp.AGENDA],defaultView:i.Pp.MONTH,style:{height:"70vh"},popup:!0,eventPropGetter:p,onSelectEvent:u,tooltipAccessor:y})}),c&&(0,s.jsx)(b,{event:c,onClose:()=>d(null)}),(0,s.jsx)("p",{style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:"Times are displayed in your browser timezone."})]})}function b({event:e,onClose:t}){(0,o.useEffect)(()=>{function e(e){"Escape"===e.key&&t()}return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t]);const n=(0,o.useMemo)(()=>{const t=new Intl.DateTimeFormat("de-DE",{timeZone:"Europe/Berlin",dateStyle:"medium",timeStyle:"short"});return{startStr:t.format(e.start),endStr:t.format(e.end),tzName:new Intl.DateTimeFormat("de-DE",{timeZone:"Europe/Berlin",timeZoneName:"short"}).format(e.start).split(" ").pop()}},[e.start,e.end]);return(0,s.jsx)("div",{className:"calendarModalOverlay",onClick:t,role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"calendarModal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"calendarModalHeader",children:[(0,s.jsx)("h3",{style:{margin:0},children:e.title}),(0,s.jsx)("button",{className:"button button--sm button--secondary",onClick:t,"aria-label":"Close",children:"\u2715"})]}),(0,s.jsxs)("div",{className:"calendarModalBody",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Wann (Berlin):"})," ",n.startStr," \u2013 ",n.endStr," ",(0,s.jsxs)("em",{children:["(",n.tzName,")"]})]}),e.location&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Where:"})," ",e.location]}),e.type&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Type:"})," ",e.type]}),e.description&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Description:"}),(0,s.jsx)("p",{style:{marginTop:"0.25rem"},children:e.description})]})]}),(0,s.jsxs)("div",{className:"calendarModalFooter",children:[e.url&&(0,s.jsx)("a",{className:"button button--primary",href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Open link"}),(0,s.jsx)("button",{className:"button button--secondary",onClick:t,children:"Close"})]})]})})}const x={title:"Calendar",sidebar_position:1},g="Calendar",j={},v=[];function k(e){const t={h1:"h1",header:"header",p:"p",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"calendar",children:"Calendar"})}),"\n",(0,s.jsx)(t.p,{children:"Browse upcoming meetings and events. The calendar updates from a JSON file at build/runtime."}),"\n",(0,s.jsx)(y,{})]})}function w(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(k,{...e})}):k(e)}}}]);